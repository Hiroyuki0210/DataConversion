# データ形式変換アプリ  
  
### 概要  
データ形式を変換するアプリです。  
変換内容は次の通りです。  
・CSV形式　→　XML形式  
・XML形式　→　CSV形式  
  
### 変換可能なXML形式
本アプリは、変換できるXMLの形式が決まっています。  
変換できる形式は  
```
<?xml version="1.0" encoding="UTF-8"?>
<ルート要素>
     <子要素1>
          <子要素2-1>データ1</子要素2-1>
          <子要素2-2>データ2</子要素2-2>
     </子要素1>
     <子要素1>
          <子要素2-1>データ3</子要素2-1>
          <子要素2-2>データ4</子要素2-2>
     </子要素1>
     ・・・・・・
</ルート要素>
```
となっています。   
ルート要素の子要素(子要素1)は1つしか定義できませんが、子要素1の子要素は複数種類追加することができます。    
  
### 変換後の形式に関して  
#### ・XML → CSV の変換  
上記の変換可能なXML形式をCSVに変換すると  
```
子要素2-1,子要素2-2
データ1,データ2
データ3,データ4
・・・・・・
```
となります。  
つまり、XMLのルート要素とその子要素(子要素1)は無視されて変換されます。  
  
#### ・CSV → XML の変換  
CSVファイルをXMLファイルに変換すると、XML側では、ルート要素とその子要素(子要素1)は自動で生成されます。  
ルート要素は `users`という名前、子要素1は`user`という名前です。  
  
###  アプリの導入  
cmdでプロジェクトをクローンします。  
 `git clone https://github.com/Hiroyuki0210/DataConversion.git`  
 
### アプリの実行手順  
#### 1. 変換したいCSVファイルもしくはXMLファイルをBeforeConversionフォルダ に入れる  
BeforeConversionフォルダには、CsvFilesフォルダとXmlFilesフォルダがあります。  
CSVファイルはCsvFilesフォルダ、XMLファイルはXmlFilesフォルダに入れます。  
![image](https://user-images.githubusercontent.com/51352734/66799801-943c2280-ef4d-11e9-9dd4-b7f351d67a7f.png)

  
#### 2. 実行  
次のように実行します。  
`py.exe -m converter`  
実行すると、変換したいファイルの名前を要求されますので、ファイル名を入力します。  
```
変換したいXMLファイルもしくはCSVファイルの名前を指定してください。  
>>users.csv
```  
ここで、入力するファイル名はBeforeConversionフォルダにあるものに限ります。  
  
・上手く実行された(変換に成功した)場合は  
AfterConversionフォルダに変換されたファイルが格納されます。  
![image](https://user-images.githubusercontent.com/51352734/66800006-6f947a80-ef4e-11e9-939d-4c337f26a208.png)  

・上手く実行されなかった(変換に失敗した)場合は  
メッセージで指摘され箇所を修正し、再度実行します。  
```
変換に失敗しました
項目数より多くのデータを入力しています
```
